(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(e=typeof globalThis<"u"?globalThis:e||self,e.EhGlueButton=i())})(this,function(){"use strict";var h=Object.defineProperty;var a=(e,i,t)=>i in e?h(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var s=(e,i,t)=>(a(e,typeof i!="symbol"?i+"":i,t),t);class e{constructor(t){s(this,"startResetAnimation",()=>{this.startTime=Date.now(),requestAnimationFrame(this.animateReset.bind(this))});s(this,"animateReset",()=>{const t=Date.now()-this.startTime;this.position.x.current=this.outSine(t,this.position.x.current,0,this.resetDuration),this.position.y.current=this.outSine(t,this.position.y.current,0,this.resetDuration),this.container.style.transform=`translate(${this.position.x.current}px, ${this.position.y.current}px)`,t<this.resetDuration?requestAnimationFrame(this.animateReset.bind(this)):this.isReset=!0});this.container=t.container,this.button=t.button,this.position={x:{target:0,current:0,original:0},y:{target:0,current:0,original:0}},this.limit=70,this.bcr=null,this.resetDuration=400,this.isReset=!1,this.init()}setBcr(){this.bcr=this.container.getBoundingClientRect()}outSine(t,n,o,r){return o*Math.sin(t/r*(Math.PI/2))+n}onMouseEnter(){this.setBcr()}onMouseMove(t){this.isReset=!1,Math.abs(this.position.x.target)>=this.limit||Math.abs(this.position.y.target)>=this.limit?this.startResetAnimation():(this.position.x.target=t.clientX-this.bcr.left-this.bcr.width/2,this.position.y.target=t.clientY-this.bcr.top-this.bcr.height/2,this.container.style.transform=`translate(${this.position.x.target}px, ${this.position.y.target}px)`)}onMouseLeave(t){this.position.x.target=0,this.position.y.target=0,this.isReset||this.startResetAnimation()}init(){this.container.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.container.addEventListener("mousemove",this.onMouseMove.bind(this)),this.container.addEventListener("mouseleave",this.onMouseLeave.bind(this))}}return e});
