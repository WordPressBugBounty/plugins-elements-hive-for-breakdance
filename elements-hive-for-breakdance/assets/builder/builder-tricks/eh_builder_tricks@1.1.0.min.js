(function(u){typeof define=="function"&&define.amd?define(u):u()})(function(){"use strict";const u=`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M312.1 375c9.369 9.369 9.369 24.57 0 33.94s-24.57 9.369-33.94 0L160 289.9l-119 119c-9.369 9.369-24.57 9.369-33.94 0s-9.369-24.57 0-33.94L126.1 256 7.027 136.1c-9.369-9.369-9.369-24.57 0-33.94s24.57-9.369 33.94 0L160 222.1l119-119c9.369-9.369 24.57-9.369 33.94 0s9.369 24.57 0 33.94L193.9 256 312.1 375z"/>`,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M432.6 209.3L241.5 392.4c-6.4 5.4-12.4 7.6-17.5 7.6s-11.97-2.219-16.59-6.688L15.41 209.3c-9.596-9.1-9.908-25.2-.72-33.9 9.125-9.625 24.38-9.938 33.91-.719L224 342.8l175.4-168c9.5-9.219 24.78-8.906 33.91.719 9.19 8.581 8.89 24.681-.71 33.781z"></path></svg>',f=`
    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12.5 6C12.7761 6 13 5.77614 13 5.5C13 5.22386 12.7761 5 12.5 5C12.2239 5 12 5.22386 12 5.5C12 5.77614 12.2239 6 12.5 6Z" fill="currentColor"/>
      <path d="M16.5 10C16.7761 10 17 9.77614 17 9.5C17 9.22386 16.7761 9 16.5 9C16.2239 9 16 9.22386 16 9.5C16 9.77614 16.2239 10 16.5 10Z" fill="currentColor"/>
      <path d="M7.5 7C7.77614 7 8 6.77614 8 6.5C8 6.22386 7.77614 6 7.5 6C7.22386 6 7 6.22386 7 6.5C7 6.77614 7.22386 7 7.5 7Z" fill="currentColor"/>
      <path d="M5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12Z" fill="currentColor"/>
      <path d="M12.5 6C12.7761 6 13 5.77614 13 5.5C13 5.22386 12.7761 5 12.5 5C12.2239 5 12 5.22386 12 5.5C12 5.77614 12.2239 6 12.5 6Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M16.5 10C16.7761 10 17 9.77614 17 9.5C17 9.22386 16.7761 9 16.5 9C16.2239 9 16 9.22386 16 9.5C16 9.77614 16.2239 10 16.5 10Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M7.5 7C7.77614 7 8 6.77614 8 6.5C8 6.22386 7.77614 6 7.5 6C7.22386 6 7 6.22386 7 6.5C7 6.77614 7.22386 7 7.5 7Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M11 1C5.5 1 1 5.5 1 11C1 16.5 5.5 21 11 21C11.926 21 12.648 20.254 12.648 19.312C12.648 18.875 12.468 18.477 12.211 18.187C11.921 17.898 11.773 17.535 11.773 17.062C11.7692 16.8419 11.8098 16.6233 11.8922 16.4192C11.9747 16.2151 12.0975 16.0298 12.2531 15.8741C12.4088 15.7185 12.5941 15.5957 12.7982 15.5132C13.0023 15.4308 13.2209 15.3902 13.441 15.394H15.437C18.488 15.394 20.992 12.891 20.992 9.84C20.965 5.012 16.461 1 11 1Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  `,w=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 86 76">
      <path fill="none" stroke="currentColor" stroke-width="5" d="M38 3H7.917a5 5 0 0 0-4.999 4.917L2.5 33M38 3v25a5 5 0 0 1-5 5H2.5M38 3h10M2.5 33v10M37 73H7.5a5 5 0 0 1-5-5V43M37 73V48a5 5 0 0 0-5-5H2.5M37 73h12M48 3h30a5 5 0 0 1 5 5v25M48 3v25a5 5 0 0 0 5 5h30m0 0v10M49 73h29a5 5 0 0 0 5-5V43M49 73V48a5 5 0 0 1 5-5h29"/>
    </svg>
  `,C=`
    <svg width="86" height="76" viewBox="0 0 86 76" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill="none" stroke="currentColor" stroke-width="5" d="M37 73H7.5C4.73858 73 2.5 70.7614 2.5 68V43M37 73V48C37 45.2386 34.7614 43 32 43H19.75H2.5M37 73H49H78C80.7614 73 83 70.7614 83 68V43V33V8C83 5.23858 80.7614 3 78 3H48H38H7.91736C5.18842 3 2.96353 5.18812 2.91806 7.91668L2.5 33V43"/>
    </svg>
  `,_=`
    <svg width="86" height="76" viewBox="0 0 86 76" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill="none" stroke="currentColor" stroke-width="5" d="M38 3H7.91736C5.18842 3 2.96353 5.18812 2.91806 7.91668L2.5 33M38 3V28C38 30.7614 35.7614 33 33 33H2.5M38 3H48H78C80.7614 3 83 5.23858 83 8V33V43V68C83 70.7614 80.7614 73 78 73H49H37H7.5C4.73858 73 2.5 70.7614 2.5 68V43V33"  />
    </svg>
  `,y=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 86 76">
      <path fill="none" stroke="currentColor" stroke-width="5" d="M49 73h29a5 5 0 0 0 5-5V43M49 73H7.5a5 5 0 0 1-5-5V33l.418-25.083a5 5 0 0 1 5-4.917H78a5 5 0 0 1 5 5v35M49 73V48a5 5 0 0 1 5-5h29"/>
    </svg>
  `,x=`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 86 76">
      <path fill="none" stroke="currentColor" stroke-width="5" d="M48 3H7.917a5 5 0 0 0-4.999 4.917L2.5 33v35a5 5 0 0 0 5 5H78a5 5 0 0 0 5-5V33M48 3h30a5 5 0 0 1 5 5v25M48 3v25a5 5 0 0 0 5 5h30"/>
    </svg>
  `,E=`
  <div class="eh-inspector eh-border text-body-2 py-3 rounded-lg eh-shadow-sm" style="gap: 8px;" tabindex="-1">
      <!-- Header -->
      <div class="eh-inspector__header eh-border-bottom eh-flex align-center justify-space-between px-2 mb-2 pb-1">
          <div class="eh-flex align-center" style="gap: 4px;">
              <span class="eh-inspector__title text-caption font-weight-bold">Element Inspector</span>
              
              <!-- Chevron Down Button -->
              <button type="button" class="v-btn v-btn--icon v-btn--round rounded-lg v-size--x-small eh-inspector__chevron eh-inspector__chevron--down" 
                      title="Navigate to child element" tabindex="0">
                  <span class="v-btn__content">
                      <div class="breakdance-icon" style="width: 12px; height: 12px;">
                          ${v}
                      </div>
                  </span>
              </button>
              
              <!-- Chevron Up Button -->
              <button type="button" class="v-btn v-btn--icon v-btn--round rounded-lg v-size--x-small eh-inspector__chevron eh-inspector__chevron--up" 
                      title="Navigate to parent element" tabindex="0" style="transform: rotate(180deg);">
                  <span class="v-btn__content">
                      <div class="breakdance-icon" style="width: 12px; height: 12px;">
                          ${v}
                      </div>
                  </span>
              </button>
          </div>
          
          <!-- Close Button -->
          <button type="button" class="v-btn v-btn--icon v-btn--round rounded-lg v-size--x-small eh-inspector__close" 
                  title="Close Element Inspector" tabindex="0">
              <span class="v-btn__content">
                  <div class="breakdance-icon" style="width: 14px; height: 14px;">
                      ${u}
                  </div>
              </span>
          </button>
      </div>
      
      <!-- Content Wrapper -->
      <div class="eh-inspector__content-wrapper px-2">
          <!-- Tabs Wrapper -->
          <div class="eh-inspector__tabs-wrapper">
              <!-- Tabs Container -->
              <div class="eh-inspector__tabs eh-flex mb-2">
                  <button class="eh-inspector__tab eh-inspector__tab--target text-caption font-weight-bold rounded py-1 eh-inspector__tab--active">Target</button>
                  <button class="eh-inspector__tab eh-inspector__tab--parent text-caption font-weight-bold rounded py-1">Parent</button>
              </div>
              
              <!-- Tab Content -->
              <div class="eh-inspector__tab-content eh-flex eh-flex-column">
                  <!-- Tag and ID Wrapper -->
                  <div class="eh-flex align-center py-1" style="gap: 12px;">
                      <!-- Tag Section -->
                      <div class="eh-inspector__section eh-flex align-center" id="eh-inspector-tag-section">
                          <span class="eh-inspector__label font-weight-bold breakdance-element-badge text-caption">Tag:</span>
                          <span class="eh-inspector__value font-weight-medium py-1 px-2 rounded-lg eh-inspector__tag eh-border" id="eh-inspector-tag-value" title="Click to copy" tabindex="0"></span>
                      </div>
                      
                      <!-- ID Section -->
                      <div class="eh-inspector__section eh-flex align-center" id="eh-inspector-id-section">
                          <span class="eh-inspector__label font-weight-bold breakdance-element-badge text-caption">ID:</span>
                          <span class="eh-inspector__value py-1 px-2 rounded-lg eh-inspector__id eh-border" id="eh-inspector-id-value" title="Click to copy" tabindex="0"></span>
                      </div>
                  </div>
                  
                  <!-- Classes Section -->
                  <div class="eh-inspector__section eh-flex eh-flex-column align-start py-1" id="eh-inspector-classes-section">
                      <span class="eh-inspector__label font-weight-bold breakdance-element-badge text-caption" tabindex="0" title="Click to copy all classes" style="cursor: pointer;">Classes:</span>
                      <div class="eh-inspector__classes" id="eh-inspector-classes-wrapper">
                          <!-- Dynamic class items will be inserted here -->
                      </div>
                  </div>
              </div>
              
              <!-- Message Div -->
              <div class="eh-inspector__message eh-is-hidden text-center py-2 px-2"></div>
          </div>
      </div>
  </div>
  `;class b{constructor(e={}){this.target=e.target,this.dragHandle=e.dragHandle||e.target,this.boundsContainer=e.boundsContainer||window,this.isDragging=!1,this.startX=0,this.startY=0,this.position={x:0,y:0},this.dragRafID=null,this.onDragHandler=this.onDrag.bind(this),this.dragRafHandler=this.dragRaf.bind(this),this.onPointerDownHandler=this.onPointerDown.bind(this),this.onPointerUpHandler=this.onPointerUp.bind(this),this.dragHandle.style.cursor="grab",this.init()}init(){this.target&&(this.dragHandle.addEventListener("pointerdown",this.onPointerDownHandler),this.dragHandle.addEventListener("pointerup",this.onPointerUpHandler))}onDrag(e){e.preventDefault();let t=e.clientX-this.startX,i=e.clientY-this.startY;const{width:n,height:s}=this.target.getBoundingClientRect(),r=this.boundsContainer===window?{width:window.parent.innerWidth,height:window.parent.innerHeight}:this.boundsContainer.getBoundingClientRect();t=Math.max(0,Math.min(t,r.width-n)),i=Math.max(0,Math.min(i,r.height-s)),this.position.x=t,this.position.y=i}dragRaf(){!this.target||!this.isDragging||(this.target.style.top=`${this.position.y}px`,this.target.style.left=`${this.position.x}px`,this.dragRafID=requestAnimationFrame(this.dragRafHandler))}onPointerDown(e){this.isDragging||(this.startX=e.clientX-this.target.offsetLeft,this.startY=e.clientY-this.target.offsetTop,this.position={x:this.target.offsetLeft,y:this.target.offsetTop},this.isDragging=!0,this.dragHandle.style.cursor="grabbing",this.dragHandle.setPointerCapture(e.pointerId),window.parent.addEventListener("pointermove",this.onDragHandler),this.dragRafID=requestAnimationFrame(this.dragRafHandler))}onPointerUp(e){this.isDragging=!1,this.dragHandle.style.cursor="grab",this.dragHandle.releasePointerCapture(e.pointerId),window.parent.removeEventListener("pointermove",this.onDragHandler),cancelAnimationFrame(this.dragRafID)}destroy(){this.dragHandle.removeEventListener("pointerdown",this.onPointerDownHandler),this.dragHandle.removeEventListener("pointerup",this.onPointerUpHandler),window.parent.removeEventListener("pointermove",this.onDragHandler),cancelAnimationFrame(this.dragRafID)}}class k{constructor(e={}){this.excludedElements=["breakdance_canvas"],this.appWrapper=window.parent.document.querySelector(".v-application"),this.onElementFound=e.onElementFound||(()=>{}),this.onTraversalComplete=e.onTraversalComplete||(()=>{})}isElementExcluded(e){return!!(!e||e===this.appWrapper||e===document.body||e===document.documentElement||this.excludedElements.includes(e.id))}findFirstValidChild(e){if(!e)return null;let t=e.firstElementChild;for(;t;){if(t.classList.contains("node-chrome"))return null;if(!this.isElementExcluded(t))return t;t=t.nextElementSibling}return null}findNextValidSibling(e){if(!e)return null;let t=e.nextElementSibling;for(;t;){if(t.classList.contains("node-chrome"))return null;if(!this.isElementExcluded(t))return t;t=t.nextElementSibling}return null}findFirstValidParent(e){if(!e)return null;let t=e.parentElement;for(;t;){if(t.id==="breakdance_canvas")return null;if(!this.isElementExcluded(t))return t;t=t.parentElement}return null}findNextElementRecursively(e){if(!e)return null;const t=this.findNextValidSibling(e);if(t)return t;let i=e.parentElement;for(;i&&!this.isElementExcluded(i);){if(i.id==="breakdance_canvas")return null;let n=i.nextElementSibling;for(;n;){if(n.classList.contains("node-chrome"))return null;if(!this.isElementExcluded(n))return n;n=n.nextElementSibling}i=i.parentElement}return null}navigateToChild(e){const t=this.findFirstValidChild(e);if(t)return this.onElementFound(t),t;const i=this.findNextElementRecursively(e);return i?(this.onElementFound(i),i):(this.onTraversalComplete("down"),null)}navigateToParent(e){const t=this.findFirstValidParent(e);return t?(this.onElementFound(t),t):(this.onTraversalComplete("up"),null)}navigateToNextSibling(e){const t=this.findNextValidSibling(e);return t?(this.onElementFound(t),t):(this.onTraversalComplete("down"),null)}navigateToPreviousSibling(e){if(!e)return null;let t=e.previousElementSibling;for(;t;){if(t.classList.contains("node-chrome"))return null;if(!this.isElementExcluded(t))return this.onElementFound(t),t;t=t.previousElementSibling}return this.onTraversalComplete("up"),null}}function g(o={}){const{tag:e="div",classes:t="",textContent:i="",innerHTML:n="",id:s="",styles:r={},attributes:p={}}=o,l=document.createElement(e);return t&&(l.className=t),i&&(l.textContent=i),n&&(l.innerHTML=n),s&&(l.id=s),Object.entries(r).forEach(([d,c])=>{l.style[d]=c}),Object.entries(p).forEach(([d,c])=>{l.setAttribute(d,c)}),l}function D(o){return o?!navigator.clipboard||!window.isSecureContext?m(o):navigator.clipboard.writeText(o).then(()=>!0).catch(()=>m(o)):!1}function m(o){const e=document.createElement("textarea");e.value=o,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px";const t=window.parent?window.parent.document:document;t.body.appendChild(e),e.focus(),e.select();try{const i=t.execCommand("copy");return t.body.removeChild(e),i}catch(i){return console.error("Fallback copy failed:",i),t.body.removeChild(e),!1}}class L{constructor(e={}){if(this.appWrapper=e.bdAppElement,!this.appWrapper){console.error("Breakdance App wrapper not found");return}this.isShiftPressed=!1,this.isMouseoverListenerAttached=!1,this.currentHistoryIndex=-1,this.domTraversalHistory=[],this.dom={},this.excludedInspectorElements={classes:["breakdance--empty-container","breakdance--active-element","builder-element","node-chrome"],ids:["breakdance_canvas"]},this.excludedHoverElements={classes:["node-chrome"],tags:["html","head","body"],ids:[]},this.mouseoverHandler=this.onMouseOver.bind(this),this.init()}init(){this.createBaseMarkup(),this.initUIEventListeners(),this.initGlobalEventListeners(),this.initTraverseDom(),this.initDraggable()}createBaseMarkup(){const e=document.createElement("div");e.innerHTML=E.trim(),this.dom.container=e.firstElementChild,this.dom.header=this.dom.container.querySelector(".eh-inspector__header"),this.dom.chevronButtonDown=this.dom.container.querySelector(".eh-inspector__chevron--down"),this.dom.chevronButtonUp=this.dom.container.querySelector(".eh-inspector__chevron--up"),this.dom.closeButton=this.dom.container.querySelector(".eh-inspector__close"),this.dom.tabContent=this.dom.container.querySelector(".eh-inspector__tab-content"),this.dom.messageDiv=this.dom.container.querySelector(".eh-inspector__message"),this.dom.targetTab=this.dom.container.querySelector(".eh-inspector__tab--target"),this.dom.parentTab=this.dom.container.querySelector(".eh-inspector__tab--parent"),this.dom.tagValue=this.dom.container.querySelector("#eh-inspector-tag-value"),this.dom.idValue=this.dom.container.querySelector("#eh-inspector-id-value"),this.dom.classesLabel=this.dom.container.querySelector("#eh-inspector-classes-section .eh-inspector__label"),this.dom.classesWrapper=this.dom.container.querySelector("#eh-inspector-classes-wrapper"),this.dom.classesContainer=this.dom.container.querySelector("#eh-inspector-classes-section"),this.dom.emptyClassesItem=g({tag:"span",classes:"eh-inspector__value eh-inspector__value--empty rounded-lg py-1 px-2 eh-border",textContent:"❌"}),this.appWrapper.appendChild(this.dom.container)}initUIEventListeners(){this.setupClickableElementListeners(this.dom.chevronButtonDown,()=>this.traverseDown()),this.setupClickableElementListeners(this.dom.chevronButtonUp,()=>this.traverseUp()),this.setupClickableElementListeners(this.dom.closeButton,this.onHideInspector.bind(this)),this.setupClickableElementListeners(this.dom.targetTab,()=>this.onSwitchTab("target")),this.setupClickableElementListeners(this.dom.parentTab,()=>this.onSwitchTab("parent")),this.setupCopyableElement(this.dom.tagValue,()=>this.dom.tagValue.textContent,this.dom.tagValue),this.setupCopyableElement(this.dom.idValue,()=>this.dom.idValue.textContent,this.dom.idValue),this.setupCopyableElement(this.dom.classesLabel,()=>this.getAllClassesText(),this.dom.classesContainer)}initGlobalEventListeners(){window.addEventListener("keydown",this.onKeydown.bind(this)),window.addEventListener("keyup",this.onKeyup.bind(this)),window.parent.addEventListener("keydown",this.onKeydown.bind(this)),window.parent.addEventListener("keyup",this.onKeyup.bind(this)),window.addEventListener("click",e=>{this.dom.container.classList.contains("eh-is-active")&&!this.dom.container.contains(e.target)&&this.onHideInspector()})}initMouseoverEventListeners(){this.isMouseoverListenerAttached||(window.addEventListener("mouseover",this.mouseoverHandler),this.isMouseoverListenerAttached=!0)}removeMouseoverEventListeners(){this.isMouseoverListenerAttached&&this.mouseoverHandler&&(window.removeEventListener("mouseover",this.mouseoverHandler),this.isMouseoverListenerAttached=!1)}setupClickableElementListeners(e,t,i={}){const{preventDefault:n=!0,keys:s=["Enter"," "]}=i;e.addEventListener("click",t),e.addEventListener("pointerdown",r=>r.stopPropagation()),e.addEventListener("keydown",r=>{s.includes(r.key)&&(n&&r.preventDefault(),t())})}setupCopyableElement(e,t,i){const n=()=>{if(e.classList.contains("eh-inspector__value--empty"))return;const s=t();s&&this.copyToClipboard(s,i||e)};this.setupClickableElementListeners(e,n,{preventDefault:!1,keys:["Enter"]})}setActiveTab(e){this.dom.targetTab.classList.remove("eh-inspector__tab--active"),this.dom.parentTab.classList.remove("eh-inspector__tab--active"),e==="target"?this.dom.targetTab.classList.add("eh-inspector__tab--active"):this.dom.parentTab.classList.add("eh-inspector__tab--active")}updateButtonStates(){[this.dom.chevronButtonDown,this.dom.chevronButtonUp].forEach(e=>{this.enableElement(e)})}initTraverseDom(){this.traverseDom=new k({onElementFound:e=>{this.addToHistory(this.currentInspectedElement),this.showInspector(e)},onTraversalComplete:e=>{e==="down"?this.disableElement(this.dom.chevronButtonDown):e==="up"&&this.disableElement(this.dom.chevronButtonUp)}})}initDraggable(){new b({target:this.dom.container,dragHandle:this.dom.header})}onMouseOver(e){this.isElementExcludedFromHover(e.target)||(clearTimeout(this.inspectorElementTimeout),this.inspectorElementTimeout=setTimeout(()=>{this.highlightElement(e.target),this.showInspector(e.target)},100))}isElementExcludedFromHover(e){let t=e;if(this.excludedHoverElements.tags.includes(t.tagName.toLowerCase()))return!0;for(;t&&t!==this.appWrapper;){if(this.excludedHoverElements.classes.some(i=>t.classList.contains(i))||this.excludedHoverElements.ids.includes(t.id))return!0;t=t.parentElement}return!1}onKeydown(e){e.key==="Shift"&&!this.isShiftPressed&&(this.isShiftPressed=!0,this.initMouseoverEventListeners()),this.dom.container&&this.dom.container.classList.contains("eh-is-active")&&(e.shiftKey&&e.key==="ArrowUp"?(e.preventDefault(),this.traverseUp()):e.shiftKey&&e.key==="ArrowDown"&&(e.preventDefault(),this.traverseDown()))}onKeyup(e){e.key==="Shift"&&this.isShiftPressed&&(this.isShiftPressed=!1,this.removeMouseoverEventListeners())}showInspector(e){!e||e===this.currentInspectedElement||(this.currentInspectedElement&&this.currentInspectedElement!==e&&this.addToHistory(this.currentInspectedElement),this.currentInspectedElement=e,this.currentHighlightedElement=e,this.updateInspectorContent(e),this.dom.container.classList.add("eh-is-active"),this.dom.container.focus(),this.highlightElement(e),this.updateButtonStates())}onHideInspector(e){this.removeHighlight(),this.dom.container.classList.remove("eh-is-active"),this.currentInspectedElement=null,this.currentHighlightedElement=null}updateInspectorContent(e){this.setActiveTab("target"),this.showElementContent(e,"target")}onSwitchTab(e){this.setActiveTab(e);const t=e==="parent"?this.currentInspectedElement.parentElement:this.currentInspectedElement;this.showElementContent(t,e),this.highlightElement(t)}showElementContent(e,t){if(this.hideElement(this.dom.messageDiv),this.showElement(this.dom.tabContent),!e){this.setEmptyState(this.dom.tagValue,"tag"),this.setEmptyState(this.dom.idValue,"id"),this.showEmptyClasses();return}if(t==="parent"&&e.id==="breakdance_canvas"){this.hideElement(this.dom.tabContent),this.showElement(this.dom.messageDiv),this.dom.messageDiv.textContent="You've reached the top of this section ⛰️";return}this.setValueState(this.dom.tagValue,e.tagName.toLowerCase(),"tag");const i=e.id,n=Array.from(e.classList).filter(r=>!this.excludedInspectorElements.classes.includes(r)),s=i&&!this.excludedInspectorElements.ids.includes(i);this.setValueState(this.dom.idValue,s?`#${i}`:null,"id"),this.updateClasses(n)}setEmptyState(e,t){e&&(e.classList.add("eh-inspector__value--empty"),e.textContent="❌",(t==="id"||t==="tag")&&(e.removeAttribute("title"),e.removeAttribute("tabindex")))}setValueState(e,t,i){e&&(t?(e.classList.remove("eh-inspector__value--empty"),e.textContent=t,(i==="id"||i==="tag")&&(e.setAttribute("title","Click to copy"),e.setAttribute("tabindex","0"))):this.setEmptyState(e,i))}showEmptyClasses(){this.dom.classesWrapper.innerHTML="",this.dom.classesWrapper.appendChild(this.dom.emptyClassesItem.cloneNode(!0))}updateClasses(e){this.dom.classesWrapper.innerHTML="",e.length>0?e.forEach(t=>{const i=g({tag:"span",classes:"eh-inspector__value rounded-lg py-1 px-2 eh-border",textContent:`.${t}`,attributes:{title:"Click to copy",tabindex:"0"}});this.setupCopyableElement(i,()=>i.textContent,i),this.dom.classesWrapper.appendChild(i)}):this.dom.classesWrapper.appendChild(this.dom.emptyClassesItem.cloneNode(!0))}highlightElement(e){this.removeHighlight(),e&&(e.style.outline="2px solid #FD5900",e.style.outlineOffset="2px",this.currentHighlightedElement=e)}removeHighlight(){this.currentHighlightedElement&&(this.currentHighlightedElement.style.outline="",this.currentHighlightedElement.style.outlineOffset="",this.currentHighlightedElement=null)}traverse(e){if(!this.currentInspectedElement)return;this.removeHighlight(),(e==="down"?this.traverseDom.navigateToChild(this.currentInspectedElement):this.traverseDom.navigateToParent(this.currentInspectedElement))&&this.updateButtonStates()}traverseDown(){this.traverse("down")}traverseUp(){this.traverse("up")}disableElement(e){e.disabled=!0,e.classList.add("eh-is-disabled")}enableElement(e){e.disabled=!1,e.classList.remove("eh-is-disabled")}addToHistory(e){this.domTraversalHistory=this.domTraversalHistory.slice(0,this.currentHistoryIndex+1),this.domTraversalHistory.push(e),this.currentHistoryIndex=this.domTraversalHistory.length-1,this.domTraversalHistory.length>50&&(this.domTraversalHistory.shift(),this.currentHistoryIndex--)}copyToClipboard(e,t){if(!e||!t)return;const i=D(e);return i&&this.showCopyFeedback(t),i}showCopyFeedback(e){e?.classList.add("eh-inspector__element--copied"),setTimeout(()=>{e?.classList.remove("eh-inspector__element--copied")},300)}getAllClassesText(){if(!this.currentInspectedElement)return"";const t=this.dom.parentTab.classList.contains("eh-inspector__tab--active")?this.currentInspectedElement.parentElement:this.currentInspectedElement;return t?Array.from(t.classList).filter(n=>!this.excludedInspectorElements.classes.includes(n)).map(n=>`.${n}`).join(""):""}hideElement(e){e?.classList.add("eh-is-hidden")}showElement(e){e?.classList.remove("eh-is-hidden")}}function H(o={}){const e=o?.size==="x-small"?"12px":o?.size==="small"?"14px":"18px",t=`v-btn v-btn--icon v-btn--round rounded-lg v-size--${o?.size||"default"} ${o?.classes||""}`,i=`
          <span class="v-btn__content">
              <div class="breakdance-icon" style="width: ${e}; height: ${e};">
                  ${o?.iconSvg}
              </div>
          </span>
      `,n={type:"button",...o?.attributes};return g({tag:"button",classes:t,innerHTML:i,styles:o?.styles||{},attributes:n})}const S=`
  <div class="eh-actions-bar">
    <!-- Colors Action Button -->
    <div class="eh-actions-bar__btn-wrapper">
      <button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default eh-action-bar__btn eh-colors-popover-toggle">
        <span class="v-btn__content">
          <div class="breakdance-icon" style="width: 18px; height: 18px;">
            ${f}
          </div>
        </span>
      </button>
      
      <!-- Colors Popover -->
      <div class="eh-popover eh-colors-popover">
        <div class="eh-popover__wrapper eh-colors-popover__wrapper">
          <!-- Dynamic color containers will be inserted here -->
          <!-- eh-popover__container for gradients -->
          <!-- eh-popover__container for palette colors -->
          <!-- eh-popover__container for brand colors -->
        </div>
      </div>
    </div>
  
    <!-- Docking Action Button -->
    <div class="eh-actions-bar__btn-wrapper">
      <button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default eh-action-bar__btn eh-docking-popover-toggle">
        <span class="v-btn__content">
          <div class="breakdance-icon" style="width: 18px; height: 18px;">
            ${w}
          </div>
        </span>
      </button>
      
      <!-- Docking Popover -->
      <div class="eh-popover eh-docking-popover">
        <div class="eh-popover__wrapper eh-docking-popover__wrapper">
          <!-- Dock Top Left -->
          <button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--small eh-action-bar__btn eh-popover__btn eh-dock-top-left" eh-tooltip="Dock Top Left">
            <span class="v-btn__content">
              <div class="breakdance-icon" style="width: 14px; height: 14px;">
                ${_}
              </div>
            </span>
          </button>
          
          <!-- Dock Top Right -->
          <button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--small eh-action-bar__btn eh-popover__btn eh-dock-top-right" eh-tooltip="Dock Top Right">
            <span class="v-btn__content">
              <div class="breakdance-icon" style="width: 14px; height: 14px;">
                ${x}
              </div>
            </span>
          </button>
          
          <!-- Dock Bottom Left -->
          <button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--small eh-action-bar__btn eh-popover__btn eh-dock-bottom-left" eh-tooltip="Dock Bottom Left">
            <span class="v-btn__content">
              <div class="breakdance-icon" style="width: 14px; height: 14px;">
                ${C}
              </div>
            </span>
          </button>
          
          <!-- Dock Bottom Right -->
          <button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--small eh-action-bar__btn eh-popover__btn eh-dock-bottom-right" eh-tooltip="Dock Bottom Right">
            <span class="v-btn__content">
              <div class="breakdance-icon" style="width: 14px; height: 14px;">
                ${y}
              </div>
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>
  `;class T{constructor(e={}){if(this.app=e.bdAppElement,!this.app){console.error("Breakdance App element not found");return}this.builder=window.parent.Breakdance||window.Breakdance,this.bdClasses={dialog:"v-dialog--active",dialogContent:"v-dialog__content",dialogHeader:"code-input-dialog-header",codeInputDialog:"code-input-dialog",codeInputCloseButton:"code-input-dialog-close",overlay:"v-overlay",overlayScrim:"v-overlay__scrim",codeMirror:"CodeMirror",codeMirrorGutters:"CodeMirror-gutters"},this.ehClasses={actionBarButton:"eh-action-bar__btn",popoverContainer:"eh-popover__container",dockTopLeftButton:"eh-dock-top-left",dockTopRightButton:"eh-dock-top-right",dockBottomLeftButton:"eh-dock-bottom-left",dockBottomRightButton:"eh-dock-bottom-right",colorsPopoverWrapper:"eh-colors-popover__wrapper",colorsPopoverButton:"eh-colors-popover__btn"},this.position={x:0,y:0},this.draggableInstance=null,this.init()}init(){this.initMutationObserver(this.app,this.onAppMutationObserved.bind(this))}initTricks(){this.draggableInstance&&(this.draggableInstance.destroy(),this.draggableInstance=null),this.initDraggable(),this.initResizeObservable(),this.insertHeaderActionsDom(),this.initOverlaySetup(),this.initLineNumbers(),!this.currentDialogObserver&&(this.currentDialogObserver=this.initMutationObserver(this.currentDialog,this.onDialogMutationObserved.bind(this)),this.initEvents())}onAppMutationObserved(e){this.isDialogPresent=!1;for(const t of e)for(const i of t.addedNodes)i.classList.contains(this.bdClasses.dialogContent)&&(this.isDialogPresent=!0,this.currentDialog=i.querySelector(`.${this.bdClasses.dialog}`),this.currentDialogObserver&&(this.currentDialogObserver.disconnect(),this.currentDialogObserver=null),this.initTricks())}onDialogMutationObserved(e){for(const t of e)for(const i of t.addedNodes)i.classList.contains(this.bdClasses.codeInputDialog)&&this.initTricks()}initMutationObserver(e,t){const i={attributes:!1,childList:!0,subtree:!1},n=new MutationObserver(t);return n.observe(e,i),n}initDraggable(){if(!this.currentDialog)return;const e=this.currentDialog.querySelector(`.${this.bdClasses.dialogHeader}`);e&&(this.draggableInstance&&this.draggableInstance.destroy(),this.draggableInstance=new b({target:this.currentDialog,dragHandle:e,boundsContainer:window}))}initResizeObservable(){if(!this.currentDialog)return;new ResizeObserver(t=>{t.forEach(i=>{const n=this.currentDialog?.querySelector(`.${this.bdClasses.codeInputDialog}`);this.topMax=-1*n?.offsetTop,this.currentDialog.querySelector(".CodeMirror")?.CodeMirror.refresh()})}).observe(this.currentDialog)}insertHeaderActionsDom(){if(!this.currentDialog)return;const e=this.currentDialog.querySelector(`.${this.bdClasses.dialogHeader} .${this.bdClasses.codeInputCloseButton}`);if(!e)return;this.preventPointerDownPropagation(e);const t=document.createElement("div");t.innerHTML=S,this.actionsBar=t.firstElementChild,e.insertAdjacentElement("beforeBegin",this.actionsBar),this.builder.stores.globalStore.globalSettings.settings.colors&&(this.populateColorPopover(),this.initColorsActionsEvents()),this.initDockingActionsEvents()}preventPointerDownPropagation(e){e.addEventListener("pointerdown",t=>t.stopPropagation())}populateColorPopover(){const{background:e,brand:t,headings:i,links:n,text:s,palette:r}=this.builder.stores.globalStore.globalSettings.settings.colors;let p="";const l=[{cssVariableName:"bde-brand-primary-color",label:"Brand",value:t},{cssVariableName:"bde-body-text-color",label:"Text",value:s},{cssVariableName:"bde-headings-color",label:"Headings",value:i},{cssVariableName:"bde-links-color",label:"Links",value:n},{cssVariableName:"bde-background-color",label:"Background",value:e}],d=this.actionsBar.querySelector(`.${this.ehClasses.colorsPopoverWrapper}`);if(!d)return;if(d.innerHTML="",r){if(r.hasOwnProperty("gradients")&&r.gradients.length>0){const a=document.createElement("div");a.classList.add(this.ehClasses.popoverContainer),r.gradients.forEach(h=>{a.appendChild(this.generateColorButton(h)),p+=`--${h.cssVariableName}: ${h.value.value};`}),d.appendChild(a)}if(r.hasOwnProperty("colors")&&r.colors.length>0){const a=document.createElement("div");a.classList.add(this.ehClasses.popoverContainer),r.colors.forEach(h=>{a.appendChild(this.generateColorButton(h)),p+=`--${h.cssVariableName}: ${h.value};`}),d.appendChild(a)}}const c=document.createElement("div");c.classList.add(this.ehClasses.popoverContainer),l.forEach(a=>{c.appendChild(this.generateColorButton(a)),p+=`--${a.cssVariableName}: ${a.value};`}),d.appendChild(c),this.currentDialog.style+=p,this.currentDialog.style.margin="0px"}generateColorButton(e){return H({size:"x-small",classes:"theme--dark eh-action-bar__btn eh-popover__btn eh-colors-popover__btn",iconSvg:"",styles:{background:`${e.value?.value||e.value||"var(--checkboard)"}`,backgroundSize:"20px 20px"},attributes:{"eh-tooltip":e.label,"eh-color-css-variable":`var(--${e.cssVariableName})`}})}initColorsActionsEvents(){this.currentDialog.querySelectorAll(`.${this.ehClasses.colorsPopoverButton}`).forEach(t=>{this.preventPointerDownPropagation(t),t.addEventListener("click",this.handleColorButtonClick.bind(this))})}handleColorButtonClick(e){e.preventDefault();const t=this.currentDialog.querySelector(".CodeMirror")?.CodeMirror?.getDoc();if(!t)return;const i=e.currentTarget.getAttribute("eh-color-css-variable");if(t.somethingSelected()){const n=t.getCursor("from");t.replaceSelection(i),t.setSelection(n,{line:n.line,ch:n.ch+i.length})}else{const{line:n,ch:s}=t.getCursor();t.replaceRange(i,{line:n,ch:s}),t.setSelection({line:n,ch:s},{line:n,ch:s+i.length})}}initDockingActionsEvents(){[{button:this.currentDialog.querySelector(`.${this.ehClasses.dockTopLeftButton}`),position:"top-left"},{button:this.currentDialog.querySelector(`.${this.ehClasses.dockTopRightButton}`),position:"top-right"},{button:this.currentDialog.querySelector(`.${this.ehClasses.dockBottomLeftButton}`),position:"bottom-left"},{button:this.currentDialog.querySelector(`.${this.ehClasses.dockBottomRightButton}`),position:"bottom-right"}].forEach(({button:t,position:i})=>{t?.addEventListener("click",n=>{Object.assign(this.currentDialog.style,{width:"40vw",height:"50vh"}),requestAnimationFrame(()=>{const s=this.calculateDockPosition(i);Object.assign(this.currentDialog.style,s)})}),this.preventPointerDownPropagation(t)})}calculateDockPosition(e){const t=this.currentDialog.offsetWidth,i=this.currentDialog.offsetHeight,n=window.parent.innerWidth,s=window.parent.innerHeight;switch(e){case"top-left":default:return{left:"0px",top:"0px"};case"top-right":return{left:`${n-t}px`,top:"0px"};case"bottom-left":return{left:"0px",top:`${s-i}px`};case"bottom-right":return{left:`${n-t}px`,top:`${s-i}px`}}}initOverlaySetup(){if(this.currentOverlay=this.app?.querySelector(`.${this.bdClasses.overlay}`),!this.currentOverlay)return;const e=this.currentOverlay.querySelector(`.${this.bdClasses.overlayScrim}`);e&&(e.style.backgroundColor="transparent")}initLineNumbers(){this.currentDialog.querySelector(`.${this.bdClasses.codeMirror}`)?.CodeMirror?.setOption("lineNumbers",!0);const t=this.currentDialog.querySelector(`.${this.bdClasses.codeMirrorGutters}`);t&&Object.assign(t.style,{width:"30px",display:"block"})}initEvents(){this.currentDialog.querySelectorAll(`.${this.ehClasses.actionBarButton}`).forEach(t=>{this.preventPointerDownPropagation(t)})}}class M{constructor(){if(this.bdAppElement=window.parent.document.querySelector("#app"),!this.bdAppElement){console.error("Breakdance App element not found");return}this.elementInspector=new L({bdAppElement:this.bdAppElement}),this.codeEditor=new T({bdAppElement:this.bdAppElement})}}function B(o,e){if(window.parent.document.getElementById(o))return;const t=g({tag:"style",id:o,textContent:e});window.parent.document.head.appendChild(t)}B("eh-builder-tricks-css",`
  /* Elements Panel: Long elements names prettier */
  .breakdance-add-panel__element_wrapper .breakdance-add-panel__element-name {
      word-break: break-word;
      text-align: left;
  }
  
  .breakdance-add-panel__element_wrapper .breakdance-element-badge {
      word-break: normal;
  }
  
  /* Selectors Panel: Long selectors readable */
  .breakdance-manage-selectors .selectors-list-selectors .breakdance-repeater-item-title-text {
      white-space: normal;
  }
  
  /* Code Editor: Line Numbers */
   .v-dialog .CodeMirror-linenumber {
      color: #fc5900;
  }
  
      .v-dialog .code-input .CodeMirror {
      padding: 0;
      }
  
  /* Code Editor: draggable and docking */
  .v-dialog:has(>.code-input-dialog) {
      position: absolute;
  }
  
  .v-dialog .code-input-dialog-header:hover {
      cursor: grab;
  }
  
  .v-dialog__content .v-dialog:has(>.code-input-dialog) {
      transition: none;
  }
  
  /* Code Editor: Resizable */
  .v-dialog:has(>.code-input-dialog) {
      resize: both;
      min-height: 300px;
      min-width: 300px;
      max-width: 98vw !important;
      max-height: 98vh !important;
      height: 40vh;
      width: 60vw;
  
  }
  
  .v-dialog .code-input-dialog,
  .v-dialog .code-input,
  .v-dialog .code-input .breakdance-codemirror {
      height: 100%;
  }
  
  /* Code Editor: Header Action Bar */
  
  .v-dialog .code-input-dialog-header:has(>.eh-actions-bar) {
      --action-bar-gap: 8px;
      --action-popover-gap: 4px;
      --action-bar-radius: 6px;
      --checkboard: var(--gray100) url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" fill-opacity=".25"><path d="M200 0h200v200H200zM0 200h200v200H0z"/></svg>');
      gap: var(--action-bar-gap);
  }
  
      .v-dialog .code-input-dialog-header:has(>.eh-actions-bar) .code-input-dialog-close {
      margin-left: 0;
  }
  
  .v-dialog .code-input-dialog-header .eh-actions-bar {
      position: relative;
      display: flex;
      gap: var(--action-bar-gap);
      margin-left: auto;
  }
  
  .v-dialog .code-input-dialog-header .eh-actions-bar__btn-wrapper {
      position: relative;
  }
  
  .v-dialog .code-input-dialog-header .eh-action-bar__btn {
      color: var(--white-fixed) !important;
      margin-left: auto;
      background-color: #444857;
      border-radius: var(--action-bar-radius);
      outline: none;
  }
  
  .v-dialog .code-input-dialog-header .eh-popover {
      display: none;
      position: absolute;
      top: 35px;
      background: #444857;
      padding: 8px;
      border-radius: var(--action-bar-radius);
      z-index: 1;
  }
  
  .v-dialog .code-input-dialog-header .eh-popover__wrapper,
  .v-dialog .code-input-dialog-header .eh-popover__container {
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      gap: var(--action-popover-gap);
  }
  
  .v-dialog .code-input-dialog-header .eh-popover__container {
      grid-template-columns: repeat(5, 1fr);
  }
  
  .v-dialog .code-input-dialog-header .eh-popover__container:not(:last-child) {
      border-bottom: 1px solid #6a6a6a;
      padding-bottom: 5px;
  }
  
  .v-dialog .code-input-dialog-header .eh-docking-popover {
      left: -22px;
  }
  
  .v-dialog .code-input-dialog-header .eh-actions-bar:has(.eh-docking-popover-toggle:hover) .eh-docking-popover,
  .v-dialog .code-input-dialog-header .eh-actions-bar .eh-docking-popover:hover {
      display: block;
  }
  
  .v-dialog .code-input-dialog-header .eh-docking-popover__wrapper {
      grid-template-columns: repeat(2, 1fr);
  }
  
  .v-dialog .code-input-dialog-header .eh-popover__btn {
      position: relative;
      background-color: #313335;
      min-width: 0;
      min-height: 0;
  }
  
  .v-dialog .code-input-dialog-header .eh-popover__btn[eh-tooltip]::before {
      content: attr(eh-tooltip);
      position: absolute;
      display: none;
      background: #cbcbcb;
      color: black;
      opacity: 1;
      width: max-content;
      height: max-content;
      max-width: 120px;
      padding: 4px 8px;
      border-radius: 2px;
      z-index: 2;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      word-wrap: break-word;
      white-space: normal;
  }
  
  .v-dialog .code-input-dialog-header .eh-popover__btn[eh-tooltip]:hover::before {
      display: block;
  }
  
  .v-dialog .code-input-dialog-header .eh-actions-bar:has(.eh-colors-popover-toggle:hover) .eh-colors-popover,
  .v-dialog .code-input-dialog-header .eh-actions-bar .eh-colors-popover:hover {
      display: block;
  }
  
  .v-dialog .code-input-dialog-header .eh-colors-popover {
      left: -60px;
  }
  
  /* 
   * Elements Inspector 
   *
  */
  .eh-inspector {
      display: none;
      position: fixed;
      transform-origin: top left;
      z-index: 10000;
      left: 35%;
      top: calc(100% - 200px);
      background: var(--white);
      color: var(--gray800);
      min-width: 200px;
      max-width: 400px;
  }
  
  .eh-inspector.eh-is-active {
      display: block;
  }
  
  .eh-inspector,
  .eh-inspector * {
      outline-color: var(--gray200) !important;
  }
  
  .eh-inspector__element--copied {
      background: var(--green100) !important;
      border-color: var(--green600) !important;
      transition: all 0.15s ease;
  }
  
  .eh-inspector__close:focus-visible,
  .eh-inspector__chevron:focus-visible {
      outline: revert;
  }
  .eh-inspector__close:hover,
  .eh-inspector__chevron:hover {
      background: var(--gray100);
  }
  
  .eh-inspector__tabs {
      background: var(--gray50);
  }
  
  .eh-inspector__tab {
      background: none;
      border: none;
      color: var(--gray600);
      cursor: pointer;
      transition: all 0.15s ease;
      flex: 1;
      
  }
  
  .eh-inspector__tab:not(.eh-inspector__tab--active):hover {
      background: var(--gray100);
  }
  
  .eh-inspector__tab--active {
      background: var(--gray200);
  }
  
  .eh-inspector__value {
      color: var(--gray800);
      cursor: pointer;
  }
  
  .eh-inspector__value:hover,
  .eh-inspector__value:focus-visible {
      background: var(--gray100);
  }
  
  /* Empty state styles */
  .eh-inspector__value--empty {
      color: var(--gray500);
      cursor: not-allowed;
      opacity: 0.6;
      border: none;
  }
  
  .eh-inspector__value--empty:hover {
      background: none;
  }
  
  .eh-flex {
      display: flex;
  }
  
  .eh-flex-column {
      flex-direction: column;
  }
  
  .eh-inspector__classes {
      display: flex;
      flex-wrap: wrap;
      gap: 3px;
  }
  
  .eh-inspector__message {
      color: var(--gray600);
      font-style: italic;
  }
  
  .eh-is-disabled {
      opacity: 0.5;
      cursor: not-allowed;
  }
  
  .eh-is-hidden {
      display: none;
  }
  
  `),new M});
  